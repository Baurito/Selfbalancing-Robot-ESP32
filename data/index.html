<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

		<title>BeerBot v1.0</title>

		<link rel="stylesheet" type="text/css" href="style.css">
		<script src='virtualjoystick.js'></script>
	</head>

	<body>

		<h1>Stats</h1>

		<div id="stats"></div>

		<div class="slidecontainer">
			<input type="range" min="-90" max="90" value="0" class="slider" id="angle">
		</div>

		<div id="joystick"></div>

		<script type="text/javascript">

			function loadContent(){

				var parser = new DOMParser();

				var xhttp = new XMLHttpRequest();
				xhttp.onreadystatechange = function() {
					if (this.readyState == 4 && this.status == 200) {

						var data = parser.parseFromString(this.responseText, "text/xml");
						var angle = data.getElementById("angle-data").innerHTML;


						console.log(angle);
						
						document.getElementById("angle").value = angle;

					}
				};
				xhttp.open("GET", "data.html", true);
				xhttp.send();

			};

			setInterval(function() {
				loadContent();
			}, 100);


			var joystick = new VirtualJoystick({
				mouseSupport: true,
				stationaryBase: true,
				baseX: 150,
				baseY: 150,
				limitStickTravel: true,
				stickRadius: 50,

				container: document.getElementById('joystick'),
		
			});
		</script>

	</body>
</html>